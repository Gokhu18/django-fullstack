<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="django fullstack : Full stack django example project build on multiple docker containers ready for development and production.">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>django fullstack</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/sspross/django-fullstack">View on GitHub</a>

          <h1 id="project_title">django fullstack</h1>
          <h2 id="project_tagline">Full stack django example project build on multiple docker containers ready for development and production.</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/sspross/django-fullstack/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/sspross/django-fullstack/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a id="django-fullstack" class="anchor" href="#django-fullstack" aria-hidden="true"><span class="octicon octicon-link"></span></a>django-fullstack</h1>

<p><a href="https://quay.io/repository/sspross/django-fullstack"><img src="https://quay.io/repository/sspross/django-fullstack/status" alt="Docker Repository on Quay.io" title="Docker Repository on Quay.io"></a></p>

<p>Full stack django example project build on multiple docker containers ready for <code>development</code> and <code>production</code>.</p>

<p><strong>Batteries</strong></p>

<ul>
<li>
<code>postgres</code> (with <code>postgis</code> and <code>hstore</code> extensions)</li>
<li>
<code>nginx</code> </li>
<li>
<code>gunicorn</code> </li>
<li>
<code>redis</code> </li>
<li><code>celery</code></li>
<li><code>rabbitmq</code></li>
</ul>

<p><strong>Create your own</strong></p>

<p>This repository is an instance of <a href="https://github.com/sspross/cookiecutter-django-fullstack">cookiecutter-django-fullstack</a>. Check it out to create your own django fullstack project.</p>

<h2>
<a id="development" class="anchor" href="#development" aria-hidden="true"><span class="octicon octicon-link"></span></a>Development</h2>

<h3>
<a id="macos-x" class="anchor" href="#macos-x" aria-hidden="true"><span class="octicon octicon-link"></span></a>MacOS X</h3>

<p><strong>Setup</strong></p>

<ul>
<li><code>brew</code></li>
<li><code>pip</code></li>
</ul>

<pre><code>brew install docker boot2docker
sudo pip install docker-compose
boot2docker upgrade
boot2docker init
</code></pre>

<p>In case of errors, try <code>boot2docker delete &amp;&amp; boot2docker init</code> again.
For more details, read <a href="https://docs.docker.com/installation/mac/">documentation</a>.</p>

<p>Create host alias for current docker host IP with <code>echo $(boot2docker ip) dockerhost | sudo tee -a /etc/hosts</code>.
IP can change in future, update it in <code>/etc/hosts</code> if necessary.</p>

<p><strong>Running</strong></p>

<pre><code>boot2docker start
$(boot2docker shellinit)
docker-compose up
</code></pre>

<ul>
<li>Browse to <a href="http://dockerhost/">http://dockerhost/</a>
</li>
<li>Or so something like <code>docker-compose run django python manage.py shell|migrate|collectstatic</code>
</li>
</ul>

<h2>
<a id="deployment" class="anchor" href="#deployment" aria-hidden="true"><span class="octicon octicon-link"></span></a>Deployment</h2>

<h3>
<a id="docker-registry" class="anchor" href="#docker-registry" aria-hidden="true"><span class="octicon octicon-link"></span></a>Docker Registry</h3>

<p>Register your django app image (e.g. this repo) to a docker registry. E.g. <a href="https://quay.io/">quay.io</a>, which builds your container images on git push.</p>

<ol>
<li>Push your repository to GitHub</li>
<li>Create an account on <a href="https://quay.io/">quay.io</a>
</li>
<li>Add a repository and link it to your GitHub repository</li>
<li>Update <code>image</code>s of <code>django</code> and <code>worker</code> in <code>tutum.yml</code> to <code>quay.io/YOURUSER/YOURDJANGOPROJECT</code><br>
</li>
</ol>

<h3>
<a id="managed-cloud-deployment" class="anchor" href="#managed-cloud-deployment" aria-hidden="true"><span class="octicon octicon-link"></span></a>Managed Cloud Deployment</h3>

<p>You can deploy this app in many different ways of course. E.g. just checking it out on a server and running it with <code>docker-compose</code> (not recommended for production use and that's so 2014). So we use <a href="https://www.tutum.co/">tutum.co</a> to manage our cloud (nodes on e.g. DigitalOcean or Amazon) and deployment of our docker images. </p>

<ol>
<li>Create an account on <a href="https://www.tutum.co/">tutum.co</a>
</li>
<li>Create at least 1 node (e.g. on DigitalOcean). How many nodes you need and which containers are best on which nodes depends heavy on your kind of application. But you can change this later very easy thanks to tutum.co</li>
<li>Update <code>VIRTUAL_HOST</code> of <code>django</code> in <code>tutum.yml</code>to <code>nginx.YOURDJANGOPROJECT.YOURUSER.svc.tutum.io</code> and use it to create a new stack on tutum.co</li>
<li>Start it and browse to <a href="http://nginx.YOURDJANGOPROJECT.YOURUSER.svc.tutum.io/">http://nginx.YOURDJANGOPROJECT.YOURUSER.svc.tutum.io/</a>
</li>
</ol>

<h2>
<a id="todos" class="anchor" href="#todos" aria-hidden="true"><span class="octicon octicon-link"></span></a>Todos:</h2>

<ul>
<li>[ ] Fix code live editing in development</li>
<li>[ ] how to deploy code updates right....</li>
<li>[ ] <code>docker-compose.yml</code> and <code>tutum.yml</code> are very similar....</li>
<li>[ ] How to use a domain... and is this <code>vhost.d</code> the best way?</li>
<li>[ ] Add Celery test</li>
<li>[ ] Add Postgis</li>
<li>[ ] Try Kubernetes (with GCE)</li>
</ul>

<h2>
<a id="tipps--tricks" class="anchor" href="#tipps--tricks" aria-hidden="true"><span class="octicon octicon-link"></span></a>Tipps &amp; Tricks</h2>

<ul>
<li>Delete all docker containers <code>docker rm -f $(docker ps -a -q)</code>
</li>
<li>Delete all docker images <code>docker rmi -f $(docker images -q)</code>
</li>
</ul>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">django fullstack maintained by <a href="https://github.com/sspross">sspross</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-61577124-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>


  </body>
</html>
